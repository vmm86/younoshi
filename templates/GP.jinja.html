{% extends "index.jinja.html" %}

{% set active_group = "Calendar" %}
{% set active_page  = "GP"       %}

{% set title = "Результаты матчей" %}

{% block body %}

{% include 'header.jinja.html' with context %}

<div class="row">

    <div class="col-lg-5" style="text-align: right;">
 
        <div class="btn-group">
            <label class="btn-label" for="chooseSeason">Выберите сезон</label>
            <br>
            <select id="filterSeasonforSAST" name="filterSeasonforSAST" class="selectpicker" data-live-search="true" data-style="btn-info">
                <option value="0" {% for lse in listSeason %}{% if lse.season_ID == seasonid %}selected{% endif %}{% endfor %}>
                    {% if listSeason.count() >  0 %}выберите сезон{% endif %}
                    {% if listSeason.count() == 0 %}{% endif %}
                </option>
            {% for lse in listSeason %}
                <option value="{{ lse.season_ID }}" {% if lse.season_ID == seasonid %}selected{% endif %}>{{ lse.seasonName }}</option>
            {% endfor %}
            </select>
        </div>

    </div>

    <div class="col-lg-2" style="text-align: center;">

        <div class="btn-group" data-toggle="buttons">
            <label class="btn-label">Выберите возраст</label>
            <div class="btn-group listAgeTop">
            {% for la in listAge %}
                {% if loop.index in range(1,5) %}
                <label for="age_ID_{{ la.age_ID }}" class="btn btn-info {% if la.age_ID == ageid %}active{% endif %}">
                    <input id="age_ID_{{ la.age_ID }}" type="radio" name="filterAgeforSAST" value="{{ la.age_ID }}" {% if la.age_ID == ageid %}checked{% endif %}>{{ la.ageName }}
                </label>
                {% endif %}
            {% endfor %}
            </div>
            <div class="btn-group listAgeBottom">
            {% for la in listAge %}
                {% if loop.index in range(5,9) %}
                <label for="age_ID_{{ la.age_ID }}" class="btn btn-info {% if la.age_ID == ageid %}active{% endif %}">
                    <input id="age_ID_{{ la.age_ID }}" type="radio" name="filterAgeforSAST" value="{{ la.age_ID }}" {% if la.age_ID == ageid %}checked{% endif %}>{{ la.ageName }}
                </label>
                {% endif %}
            {% endfor %}
            </div>
        </div>

    </div>

    <div class="col-lg-5" style="text-align: left;"></div>

</div>

<div class="row">

    <div class="col-lg-5" style="text-align: right;">

        <div class="form-group btn-group">
            <label class="btn-label" for="chooseZone">&nbsp;</label>
            <br>
            <br>
            <select id="chooseZone" name="stage_ID" class="chooseZone selectpicker" data-style="btn-info" {% if sastype != "Z" or listSAS_Z.count() == 0 %}disabled{% endif %}>
                <option value="0" {% for lsasz in listSAS_Z %}{% if lsasz.SAS_ID == sasid %}selected{% endif %}{% endfor %}>
                    {% if listSAS_Z.count() >  0 %}выберите зону{% endif %}
                    {% if listSAS_Z.count() == 0 %}{% endif %}
                </option>
            {% for lsasz in listSAS_Z %}
                <option value="{{ lsasz.SAS_ID }}" {% if lsasz.SAS_ID == sasid %}selected{% endif %}>{{ lsasz.stage_ID.stageName }}</option>
            {% endfor %}
            </select>
        </div>

    </div>

    <div class="col-lg-2" style="text-align: center;">

        <div id="zoneGroupPlayoffToggle" class="zoneGroupPlayoffToggle btn-group btn-toggle" data-toggle="buttons">
            <label class="btn-label" for="chooseSeason" style="width: 100%; text-align: center;">Выберите стадию</label><br>
                <label class="btn btn-info {% if sastype == "Z" %}active{% endif %} {% if listSAS_Z.count() == 0 %}disabled{% endif %}">
                    <input id="zoneGroupPlayoffToggle_Z" type="radio" name="zoneGroupPlayoffToggle" value="Z" 
                    {% if sastype == "Z" %}checked{% endif %}
                    {% if listSAS_Z.count() == 0 %}disabled{% endif %}>зона
                </label>
                <label class="btn btn-info {% if sastype == "G" %}active{% endif %} {% if listSAS_G.count() == 0 %}disabled{% endif %}">
                    <input id="zoneGroupPlayoffToggle_G" type="radio" name="zoneGroupPlayoffToggle" value="G" 
                    {% if sastype == "G" %}checked{% endif %}
                    {% if listSAS_G.count() == 0 %}disabled{% endif %}>группа
                </label>
                <br>
                <label class="btn btn-info {% if sastype == "P" %}active{% endif %} {% if listSAS_P.count() == 0 %}disabled{% endif %}">
                    <input id="zoneGroupPlayoffToggle_P" type="radio" name="zoneGroupPlayoffToggle" value="{% for lsasp in listSAS_P %}{{ lsasp.SAS_ID }}{% endfor %}" 
                    {% if sastype == "P" %}checked{% endif %} 
                    {% if listSAS_P.count() == 0 %}disabled{% endif %}>плэй-офф
                </label>
        </div>

    </div>

    <div class="col-lg-5" style="text-align: left;">

        <div class="btn-group">
            <label class="btn-label" for="chooseGroup">&nbsp;</label>
            <br>
            <br>
            <select id="chooseGroup" name="stage_ID" class="chooseGroup selectpicker" data-style="btn-info" {% if sastype != "G" or listSAS_G.count() == 0 %}disabled{% endif %}>
                <option value="0" {% for lsasg in listSAS_G %}{% if lsasg.SAS_ID == sasid %}selected{% endif %}{% endfor %}>
                    {% if listSAS_G.count() >  0 %}выберите группу{% endif %}
                    {% if listSAS_G.count() == 0 %}{% endif %}
                </option>
            {% for lsasg in listSAS_G %}
                <option value="{{ lsasg.SAS_ID }}" {% if lsasg.SAS_ID == sasid %}selected{% endif %}>{{ lsasg.stage_ID.stageName }}</option>
            {% endfor %}
            </select>
        </div>

    </div>
</div>

<br>

<div class="row">

    <div class="col-lg-1"></div>

    <div class="col-lg-10">
        <table id="listGP" class="table-striped table-hover table-condensed table-responsive" cellspacing="0" cellpadding="0">
        <thead>
            <tr>
                <td class="tableInputLeft"><a class="form-control flat btn-success input-sm" type="submit" name="new" data-toggle="modal" data-target="#Modal_editGP"><i class="glyphicon glyphicon-plus"></i>&nbsp;&nbsp;<span>Добавить</span></a></td>
                <td class="tableNumber">#</td>
                <td class="tableText" style="">Команда хозяев</td>
                <td class="tableScore" style="width: 3rem;">Счёт</td>
                <td class="tableText" style="">Команда гостей</td>
                <td class="tableInputRight"></td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="tableInputLeft"><a class="form-control flat btn-warning input-sm" type="submit" name="edit" data-toggle="modal" data-target="#Modal_editGP"><i class="glyphicon glyphicon-pencil"></i>&nbsp;&nbsp;<span>Изменить</span></a></td>
                <td class="tableNumber">1</td>
                <td class="tableText">Раз команда</td>
                <td class="tableScore">1 : 0</td>
                <td class="tableText">Два команда</td>
                <td class="tableInputRight"><button class="form-control flat btn-danger input-sm" type="submit" name="delete"><span>Удалить</span>&nbsp;&nbsp;<i class="glyphicon glyphicon-remove"></i></button></td>
            </tr>
            <tr>
                <td class="tableInputLeft"><a class="form-control flat btn-warning input-sm" type="submit" name="edit" data-toggle="modal" data-target="#Modal_editGP"><i class="glyphicon glyphicon-pencil"></i>&nbsp;&nbsp;<span>Изменить</span></a></td>
                <td class="tableNumber">2</td>
                <td class="tableText">Два команда</td>
                <td class="tableScore">3 : 2</td>
                <td class="tableText">Три команда</td>
                <td class="tableInputRight"><button class="form-control flat btn-danger input-sm" type="submit" name="delete"><span>Удалить</span>&nbsp;&nbsp;<i class="glyphicon glyphicon-remove"></i></button></td>
            </tr>
            <tr>
                <td class="tableInputLeft"><a class="form-control flat btn-warning input-sm" type="submit" name="edit" data-toggle="modal" data-target="#Modal_editGP"><i class="glyphicon glyphicon-pencil"></i>&nbsp;&nbsp;<span>Изменить</span></a></td>
                <td class="tableNumber">3</td>
                <td class="tableText">Три команда</td>
                <td class="tableScore"></td>
                <td class="tableText">Четыре команда</td>
                <td class="tableInputRight"><button class="form-control flat btn-danger input-sm" type="submit" name="delete"><span>Удалить</span>&nbsp;&nbsp;<i class="glyphicon glyphicon-remove"></i></button></td>
            </tr>
            <tr>
                <td class="tableInputLeft"><a class="form-control flat btn-warning input-sm" type="submit" name="edit" data-toggle="modal" data-target="#Modal_editGP"><i class="glyphicon glyphicon-pencil"></i>&nbsp;&nbsp;<span>Изменить</span></a></td>
                <td class="tableNumber">4</td>
                <td class="tableText">Четыре команда</td>
                <td class="tableScore"></td>
                <td class="tableText">Пять команда</td>
                <td class="tableInputRight"><button class="form-control flat btn-danger input-sm" type="submit" name="delete"><span>Удалить</span>&nbsp;&nbsp;<i class="glyphicon glyphicon-remove"></i></button></td>
            </tr>
            <tr>
                <td class="tableInputLeft"><a class="form-control flat btn-warning input-sm" type="submit" name="edit"><i class="glyphicon glyphicon-pencil"></i>&nbsp;&nbsp;<span>Изменить</span></a></td>
                <td class="tableNumber">5</td>
                <td class="tableText">Пять команда</td>
                <td class="tableScore"></td>
                <td class="tableText">Раз команда</td>
                <td class="tableInputRight"><button class="form-control flat btn-danger input-sm" type="submit" name="delete"><span>Удалить</span>&nbsp;&nbsp;<i class="glyphicon glyphicon-remove"></i></button></td>
            </tr>
        </tbody>
        </table>
    </div>

    <div class="col-lg-1"></div>

</div>

<div id="Modal_editGP" class="modal fade modal-lg" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title" aria-labelledby="Modal_editGP_Label">Добавить/изменить результаты матча</h3>
            </div>

            <div class="modal-body">
                <div class="btn-group">
                    <label class="btn-label" for="editGP_gameNumber">Номер матча</label> <input id="editGP_gameNumber" class="form-control" name="editGP_gameNumber" type="number">
                    <br>
                    <label class="btn-label" for="editGP_tourNumber">Номер тура</label> <input id="editGP_tourNumber" class="form-control" name="editGP_tourNumber" type="number">
                    <br>
                    <label class="btn-label" for="editGP_gameDate">Дата матча</label> <input id="editGP_gameDate" class="form-control" name="editGP_gameDate" type="date">
                    <br>
                    <div class="btn-group">
                        <label class="btn-label" for="editGP_homeTeam">Команда хозяев</label>
                        <select id="editGP_homeTeam" class="selectpicker" name="editGP_homeTeam" data-live-search="true" data-style="btn-info" data-width="auto">
                            <option value="1">Первая школа</option>
                            <option value="2">Вторая школа</option>
                            <option value="3">Третья школа</option>
                            <option value="4">Четвёртая школа</option>
                            <option value="5">Пятая школа</option>
                        </select>
                    </div>
                    <div class="btn-group">
                        <label class="btn-label" for="editGP_guestTeam">Команда гостей</label>
                        <select id="editGP_guestTeam" class="selectpicker" name="editGP_guestTeam" data-live-search="true" data-style="btn-info" data-width="auto">
                            <option value="1">Первая школа</option>
                            <option value="2">Вторая школа</option>
                            <option value="3">Третья школа</option>
                            <option value="4">Четвёртая школа</option>
                            <option value="5">Пятая школа</option>
                        </select>
                    </div>
                    <br>
                    <div class="btn-group">
                        <label class="btn-label" for="editGP_homeTeamScoreGame editGP_guestTeamScoreGame">Счёт матча <input id="editGP_homeTeamScoreGame" class="form-control" name="editGP_homeTeamScoreGame" type="number"> <input id="editGP_guestTeamScoreGame" class="form-control" name="editGP_guestTeamScoreGame" type="number"></label>
                    </div>
                    <br>
                    <br>
                    <br>
                    <!-- поля внутри д.б. доступны только в матчах стадии плэй-офф -->
                    <div class="btn-group">
                        <input id="editGP_is11m" class="checkbox" name="editGP_is11m" type="checkbox" />
                        <label class="btn-label" for="editGP_homeTeamScore11m editGP_guestTeamScore11m">Счёт серии 11-метровых <input id="editGP_homeTeamScore11m" class="form-control" name="editGP_homeTeamScore11m" type="number"><input id="editGP_guestTeamScore11m" class="form-control" name="editGP_guestTeamScore11m" type="number"></label>
                    </div>
                    <br>
                    <br>
                    <div class="btn-group">
                        <input id="editGP_isSemifinal" class="checkbox" name="editGP_isSemifinal" type="checkbox" />
                        <label class="btn-label" for="editGP_isSemifinal">полуфинальный матч плэй-офф</label>
                    </div>
                    <br>
                    <br>
                    <div class="btn-group">
                        <input id="editGP_isFinal" class="checkbox" name="editGP_isFinal" type="checkbox" />
                        <label class="btn-label" for="editGP_isSemifinal">финальный матч плэй-офф</label>
                    </div>
                    <!-- поля внутри д.б. доступны только в матчах стадии плэй-офф -->
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Отмена</button>
                <button type="button" class="btn btn-success">Сохранить</button>
            </div>

        </div>
    </div>
</div>

{% endblock %}